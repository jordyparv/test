loadSwitchService.prototype.insertDataIntoDB = function (query, data, callback) {
  if (!query) {
    return callback("Please provide the query to perform on the database");
  }
  if (!data || data.length === 0) {
    return callback("Please provide the data to insert into the database");
  }

  const errors = [];
  const sqlQuery = queryFactory.getQuery(query);

  const promises = data.map((_data) => {
    return new Promise((resolve) => {
      oraUtil.execute(sqlQuery, _data, (err, results) => {
        if (err) {
          errors.push(err);
        }
        resolve();
      });
    });
  });

  Promise.all(promises)
    .then(() => {
      if (errors.length !== 0) {
        callback(errors);
      } else {
        callback(null);
      }
    })
    .catch(callback);
};
