MERGE INTO SWITCH_INSTALLED_SUBELEMENTS tgt
USING (SELECT :META_UNIVERSAL_ID AS id FROM dual) src
ON (src.id = tgt.META_UNIVERSAL_ID)
WHEN MATCHED THEN
    UPDATE SET
        tgt.SUB_ELEMENT_NAME = :SUB_ELEMENT_NAME,
        tgt.SUB_ELEMENT_ROLE = :SUB_ELEMENT_ROLE,
        tgt.LOCATION_ID = :LOCATION_ID,
        tgt.ELEMENT_ID = :ELEMENT_ID,
        tgt.META_CREATED_DATE = TO_DATE(:META_CREATED_DATE, 'YYYY-MM-DD HH24:MI:SS'),
        tgt.META_CREATED_BY = :META_CREATED_BY,
        tgt.META_LAST_UPDATED_DATE = TO_DATE(:META_LAST_UPDATED_DATE, 'YYYY-MM-DD HH24:MI:SS'),
        tgt.META_LAST_UPDATED_BY = :META_LAST_UPDATED_BY,
        tgt.SOURCE_UNIVERSAL_ID = :SOURCE_UNIVERSAL_ID
WHEN NOT MATCHED THEN
    INSERT (
        SUB_ELEMENT_NAME,
        SUB_ELEMENT_ROLE,
        LOCATION_ID,
        ELEMENT_ID,
        META_UNIVERSAL_ID,
        META_CREATED_DATE,
        META_CREATED_BY,
        META_LAST_UPDATED_DATE,
        META_LAST_UPDATED_BY,
        SOURCE_UNIVERSAL_ID
    )
    VALUES (
        :SUB_ELEMENT_NAME,
        :SUB_ELEMENT_ROLE,
        :LOCATION_ID,
        :ELEMENT_ID,
        :META_UNIVERSAL_ID,
        TO_DATE(:META_CREATED_DATE, 'YYYY-MM-DD HH24:MI:SS'),
        :META_CREATED_BY,
        TO_DATE(:META_LAST_UPDATED_DATE, 'YYYY-MM-DD HH24:MI:SS'),
        :META_LAST_UPDATED_BY,
        :SOURCE_UNIVERSAL_ID
    )
