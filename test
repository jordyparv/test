const _ = require('lodash');

function toLowerCaseKeys(input) {
  if (Array.isArray(input)) {
    return input.map(item => toLowerCaseKeys(item));
  } else if (input !== null && typeof input === 'object') {
    return _.mapValues(
      _.mapKeys(input, (value, key) => key.toLowerCase()),
      value => toLowerCaseKeys(value)
    );
  }
  return input;
}
